<!-- App Content -->
<div class="container-fluid">
    <div class="row align-items-center" style="margin-top: 1%;">
        <div class="d-flex column col-sm-9 col-6 align-items-center">
            <span class="pe-2 s-font">Programs</span>
            <div class="input-group">
                <input type="text" class="form-control border-end-0 inputStyle" placeholder="Search Programs"
                    aria-label="Search Programs" />
                <span class="input-group-text textStyle" id="basic-addon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                        <path fill="currentColor"
                            d="M9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l5.6 5.6q.275.275.275.7t-.275.7t-.7.275t-.7-.275l-5.6-5.6q-.75.6-1.725.95T9.5 16m0-2q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14" />
                    </svg>
                </span>
            </div>
        </div>
        <div class="column col-6 col-sm-3 colSection">
            <div (click)="gotoDashboard()"><button class="buttonStyle"><svg viewBox="0 0 1024 1024" fill="#000000"
                        style="width: 20px;" class="icon" version="1.1" xmlns="http://www.w3.org/2000/svg">
                        <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                        <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                        <g id="SVGRepo_iconCarrier">
                            <path
                                d="M669.6 849.6c8.8 8 22.4 7.2 30.4-1.6s7.2-22.4-1.6-30.4l-309.6-280c-8-7.2-8-17.6 0-24.8l309.6-270.4c8.8-8 9.6-21.6 2.4-30.4-8-8.8-21.6-9.6-30.4-2.4L360.8 480.8c-27.2 24-28 64-0.8 88.8l309.6 280z"
                                fill=""></path>
                        </g>
                    </svg>
                    Dashboard</button></div>
            <mat-button-toggle-group name="Layout" [value]="selectedView" aria-label="Layout Options">
                <mat-button-toggle value="card" (change)="onButtonToggleChange('card')" class="btn-stl-class">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 21 21">
                        <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                            d="M12.5 3.5h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m-8 0h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m8 8h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m-8 0h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1" />
                    </svg>
                </mat-button-toggle>
                <mat-button-toggle value="grid" (change)="onButtonToggleChange('grid')" class="btn-stl-class">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 32 32">
                        <path fill="currentColor"
                            d="M4.082 4.083v3h22.835v-3zm0 16.223h22.835v-3H4.082zm0-6.612h22.835v-3H4.082zm0 13.223h22.835v-3H4.082z" />
                    </svg>
                </mat-button-toggle>
            </mat-button-toggle-group>
        </div>
    </div>
    <!-- App card view -->
    <div class="row row-gap-3" *ngIf="selectedView == 'card'" style="margin-top: 2%;">
        <div class="d-flex flex-wrap flex-row gap-2">
            <mat-card style="width: 240px; min-height: 240px" *ngFor="let cardItem of sampleCardData">
                <mat-card-title class="ps-2 pe-2 pt-2" style="font-size: 15px; height: 160px">
                    <img mat-card-image height="100px" [src]="cardItem.Image_URL" />
                    <span class="badge badge-cls card-badge-cls" [ngClass]="
                cardItem.Status === 'LIVE' ? 'text-bg-danger' : 'text-bg-primary'
              ">
                        {{ cardItem.Status === "LIVE" ? "●" : "" }}
                        {{ cardItem.Status }}
                    </span>
                    {{ cardItem.Program_Name }}
                </mat-card-title>
                <mat-divider></mat-divider>
                <mat-card-footer class="d-flex">
                    <div class="d-flex align-items-center ms-2 me-2">
                        {{ cardItem.Program_Code }}
                    </div>
                    <mat-divider [vertical]="true"></mat-divider>
                    <div class="d-flex align-items-center">
                        <span class="ps-2"> Program Attainment: </span>
                        <div style="width: 40px; height: 40px" class="d-flex align-items-center m-2">
                            <circle-progress class="circle-progress" [radius]="10"
                                [percent]="cardItem.Program_Attainment" [radius]="100" [outerStrokeWidth]="16"
                                [innerStrokeWidth]="8" [outerStrokeColor]="'#4882c2'" [innerStrokeColor]="'#e7e8ea'"
                                [title]="cardItem.Program_Attainment + '%'" [animation]="true" [animationDuration]="300"
                                [showSubtitle]="false" [imageHeight]="20" [imageWidth]="20"
                                titleFontSize="60px"></circle-progress>
                        </div>
                    </div>
                </mat-card-footer>
            </mat-card>
            <!-- </div> -->
        </div>
    </div>

    <!-- App Grid View-->
    <div class="row" *ngIf="selectedView == 'grid'" style="margin-top: 2%;">
        <div class="col-12">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <ng-container [matColumnDef]="column" *ngFor="let column of displayedColumns">
                    <th mat-header-cell style="font-weight: 600; color: black" *matHeaderCellDef>
                        {{ column | rename }}
                    </th>
                    <ng-container *ngIf="column == 'Program_Attainment'; else status">
                        <td mat-cell *matCellDef="let element">
                            <div class="d-flex align-items-center">
                                <div class="progress me-2" role="progressbar" aria-label="Example 20px high"
                                    aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"
                                    style="height: 10px; width: 50%; border-radius: 2px">
                                    <div class="progress-bar" style="background-color: #2e6995"
                                        [ngStyle]="{ width: element[column] + '%' }"></div>
                                </div>
                                <span>{{ element[column] + "%" }}</span>
                            </div>
                        </td>
                    </ng-container>

                    <ng-template #status>
                        <ng-container *ngIf="column == 'Status'; else general">
                            <td mat-cell *matCellDef="let element">
                                <span class="badge badge-cls" [ngClass]="
                      element[column] === 'LIVE'
                        ? 'text-bg-danger'
                        : 'text-bg-primary'
                    ">
                                    {{ element[column] === "LIVE" ? "●" : "" }}
                                    {{ element[column] }}
                                </span>
                            </td>
                        </ng-container>
                    </ng-template>

                    <ng-template #general>
                        <td mat-cell *matCellDef="let element">
                            {{ element[column] }}
                        </td>
                    </ng-template>
                </ng-container>
                <tr mat-header-row class="tr-row mat-tbl-header-row" *matHeaderRowDef="displayedColumns"></tr>
                <tr class="mat-tbl-row" style="height: 35px; overflow: hidden" mat-row
                    *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
        </div>
    </div>
</div>